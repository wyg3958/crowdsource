/***
 * Teaser
 *
 * Teaser area on top of most pages
 *
 */

//
// Define Extends
//

%teaser {
    position: relative;
    background-color: #39c277;
}

%teaser-visual-gradient {
    &::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background-image: linear-gradient(135deg, #292484, #dc4225);
        opacity: .25;
    }
}

//
// Define Teaser Variations: Hero and Slim
//

.teaser--hero {
    @extend %teaser;
}

.teaser--slim {
    @extend %teaser;
    @extend %teaser-visual-gradient;

    height: 1rem;

    // Remove all HTML inside our slim teaser

    & * {
        display: none !important; // Needs this because .metrics (below) has a
        // media query that is more specific than 'teaser--slim *' here
    }
}

//
// Teaser Structure: Visual and Content
//

.teaser-visual {
    @extend %teaser-visual-gradient;

    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;

    @media #{$medium-up} {
        background: url('../images/teaser-bg.png') #39c277 center center no-repeat;
    }
}

.teaser-content {
    position: relative;
    padding: 2rem 1rem;
    text-align: center;
}

//
// Teaser Content Text Components
//

/*h1*/
.teaser-heading {
    @extend %font-smoothing;

    margin: 0;
    font-size: $fs-medium;
    font-weight: 600;
    line-height: 1.33;
    color: $white;

    @media #{$medium-up} {
        font-size: $fs-hero;
    }
}

/*p*/
.teaser-subhead {
    @extend %font-smoothing;

    margin-bottom: 0;
    font-weight: 400;
    color: $clr-body;

    @media #{$medium-up} {
        font-size: rem-calc(20px);
    }
}


//
// Teaser Action Bar: Start, Ideate, Make it real
//

.teaser-action-bar {
    display: none;

    @media #{$medium-up} {
        @include css-table();
        position: relative;
        max-width: 62.5rem;
        margin: 3rem auto;
        counter-reset: teaser-counter;

        &::before {
            // Draws a line to cut the diamnond bg images in
            // .teaser-action-bar__heading
            content: '';
            position: absolute;
            width: 100%;
            left: 0;
            top: #{16px + 12px};  // > Padding for .teaser-action-bar__item +
            // top of diamond image
            border-bottom: 1px solid rgba($clr-yellow-shade-1, .5);
        }
    }

}

.teaser-action-bar__item {
    @include css-table-cell((valign: top));
    counter-increment: teaser-counter;
    padding: 1rem;
}

/*h2*/.teaser-action-bar__heading {
    @extend %font-smoothing;
    position: relative;
    margin: 0 0 rem-calc(4px) 0;
    padding-top: rem-calc(50px);
    font-size:   rem-calc(18px);
    font-weight: 600;
    line-height: 1.3333;
    text-transform: uppercase;
    background: url('../images/icon-teaser-diamond.svg') center top no-repeat;

    &::after {
        content: counter(teaser-counter);
        position: absolute;
        width: 100%;
        top:   rem-calc(3px);
        left:  0;
        color: $clr-yellow-shade-1;
    }
}

/*p*/.teaser-action-bar__lede {
    @extend %font-smoothing;
    font-size: rem-calc(18px);
    line-height: 1.3333;
    color: $white;
}











//
// Teaser Content Metrics Components
//

// Default container for displaying 3 metrics' items

.metrics {
    @extend %font-smoothing;

    margin: 2rem auto;

    @media #{$medium-up} {
        display: table;
        table-layout: fixed;
        width: 100%;
        max-width: 1040px;
    }
}

// Slimmer container for displaying 2 metrics' items

.metrics--slim {
    @extend .metrics;

    @media #{$medium-up} {
        max-width: 750px;
    }
}

// Metrics item container

.metrics__item {

    margin: 1rem 0;

    @media #{$medium-up} {
        display: table-cell;
        vertical-align: top;
    }
}

// Metrics' divider

.metrics__divider {
    position: relative;
    height: 26px;
    margin-bottom: rem-calc(4px);
    background: url('../images/icon-div.svg') center center no-repeat;

    &::before {
        content: '';
        position: absolute;

        top: 0;
        left: 0;
        width: 100%;
        height: 100%;

        background-position: center center;
        background-repeat: no-repeat;
        background-size: 18px;

        @media #{$medium-up} {
            background-size: 24px;
        }
    }

    // Extend our divider with classes, that show specific icons for
    // sections: floating capital, remaining time, active users

    &.capital {
        &:before {
            background-image: url('../images/icon-$$.svg');
        }
    }

    &.time {
        &:before {
            background-image: url('../images/icon-clock.svg');
        }
    }

    &.user {
        &:before {
            background-image: url('../images/icon-user.svg')
        }
    }
}

// Metrics text styles

%metrics-text-layout {
    margin: 0;
}

.metrics__heading {
    @extend %metrics-text-layout;
    font-size: 1.25rem;
    line-height: 1.33;
    font-weight: 600;
    color: $white;

    @media #{$medium-up} {
        font-size: 1.5rem;
    }
}

.metrics__subhead {
    @extend %metrics-text-layout;
    color: #3c3c3c;
}

//
// Teaser Button
//

/*a*/
.teaser__btn {
    @extend .button; // Foundation' styles
    @extend .round; // Foundation' styles
    @extend .dark;
    @extend .flush--bottom;
}
